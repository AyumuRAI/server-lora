scalar JSON

enum Roles {
  ADMIN
  AGENT
  USER
}

type ResponseMPIN {
  success: Boolean
  message: String
  token: String
}

input CreateAccountInput {
  phone: String
  fname: String
  mname: String
  lname: String
  suffix: String
  birthdate: String
  gender: String
  nationality: String
  country: String
  province: String
  municipality: String
  barangay: String
  address_text: String
  pinCode: String
}

input CreateAccountAdminInput {
  fname: String
  lname: String
  email: String
  password: String
  role: Roles
}

type ResponseAccount {
  success: Boolean
  message: String
  token: String
}

type ResponsePhoneToken {
  success: Boolean
  message: String
  phone: String
}

type ResponseGetAccount {
  success: Boolean
  message: String
  account: JSON
}

type ResponseGetNotifications {
  success: Boolean
  message: String
  notifications: [JSON]
}

type ResponseUpdateNotifications {
  success: Boolean
  message: String
}

# Main
type Query {
  sendMPIN(phone: String): ResponseMPIN
  verifyMPIN(phone: String, code: String): ResponseMPIN
  extractPhoneFromToken: ResponsePhoneToken
  getProfileData: ResponseGetAccount
  getUserNotifications: ResponseGetNotifications
}

type Mutation {
  createAccount(data: CreateAccountInput): ResponseAccount
  createAccountWeb(data: CreateAccountAdminInput): ResponseAccount
  loginAccount(phone: String, pinCode: String): ResponseAccount
  loginAccountWeb(email: String, password: String): ResponseAccount
  updateNotifications(notifId: Int): ResponseUpdateNotifications
}
